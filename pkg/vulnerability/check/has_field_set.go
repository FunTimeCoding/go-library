package check

import "reflect"

func hasFieldSet(v any) bool {
	a := reflect.ValueOf(v)

	if a.Kind() == reflect.Ptr {
		a = a.Elem()
	}

	for i := 0; i < a.NumField(); i++ {
		f := a.Field(i)

		if !f.CanInterface() {
			continue
		}

		t := a.Type().Field(i)

		if j := t.Tag.Get("json"); j == "" || j == "-" {
			continue
		}

		if !f.IsZero() {
			return true
		}
	}

	return false
}
